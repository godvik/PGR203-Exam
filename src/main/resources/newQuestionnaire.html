<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Create questionnaire | Kristiania Questionnaire</title>
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <div class="main-container">
    <h1>Create new questionnaire</h1>

    <form class="questionnaire" method="POST" action="/api/questionnaire">
      <label>Questionnaire title: <input type="text" name="questionnaire" required /></label>
      <button>Add</button>
    </form>

<h2>Add questions to questionnaire</h2>
    <form class="questions" method="POST" action="/api/questions">
      <label for="questionnaire">Choose questionnaire to add questions to:</label>
      <select id="questionnaire" name="questionnaire"></select>
      <label>Question text: <input type="text" name="title" required /></label>
      <label
        >Label for 1: <input type="text" name="low_label" required
      /></label>
      <label
        >Label for 5: <input type="text" name="high_label" required
      /></label>
      <button>Add</button>
    </form>
<h2>Add option to a question</h2>
    <form class="options" method="POST" action="/api/addOptions">
      <label
        >Choose question to add option to:
        <select id="questions" name="question"
      /></label>
      <label>Option: <input type="text" name="option"required /></label>
      <button>Add</button>
    </form>

    <div>
      <a href=".">Return to front page</a>
    </div>
  </div>
    <script>
      fetch('/api/listQuestionnaires')
        .then(function (response) {
          return response.text();
        })
        .then(function (text) {
          document.getElementById('questionnaire').innerHTML = text;
        });

        fetch('/api/questionOptions')
      .then(function (response) {
        return response.text();
      })
      .then(function (text) {
        document.getElementById('questions').innerHTML = text;
      });
    </script>
  </body>
</html>
